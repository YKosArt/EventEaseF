@using Microsoft.AspNetCore.Components.Authorization
@using EventEaseF
@using EventEaseF.Components.Layout
@using EventEaseF.Components.Shared


<CascadingAuthenticationState>
    <ErrorBoundary>
        <ChildContent>
            <Router AppAssembly="@typeof(App).Assembly">
                <Found Context="routeData">
                    <AuthorizeRouteView RouteData="@routeData" DefaultLayout="@typeof(Layout.MainLayout)">
                        <NotAuthorized>
                            <RedirectToLogin />
                        </NotAuthorized>
                    </AuthorizeRouteView>
                    <FocusOnNavigate RouteData="@routeData" Selector="h1" />
                </Found>
                <NotFound>
                    <PageTitle>404 - Сторінку не знайдено</PageTitle>
                    <LayoutView Layout="@typeof(Layout.MainLayout)">
                        <div class="container mt-5">
                            <div class="row justify-content-center">
                                <div class="col-md-6 text-center">
                                    <div class="card">
                                        <div class="card-body py-5">
                                            <i class="fas fa-exclamation-triangle fa-5x text-warning mb-4"></i>
                                            <h1 class="display-4 text-muted">404</h1>
                                            <h3 class="mb-3">Сторінку не знайдено</h3>
                                            <p class="text-muted mb-4">
                                                Запитана сторінка не існує або була переміщена.
                                            </p>
                                            <div class="d-flex justify-content-center gap-3">
                                                <a href="/" class="btn btn-primary">
                                                    <i class="fas fa-home me-2"></i>На головну
                                                </a>
                                                <button class="btn btn-outline-secondary" onclick="history.back()">
                                                    <i class="fas fa-arrow-left me-2"></i>Назад
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </LayoutView>
                </NotFound>
            </Router>
        </ChildContent>
        <ErrorContent>
            <LayoutView Layout="@typeof(Layout.MainLayout)">
                <div class="container mt-5">
                    <div class="alert alert-danger text-center">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        Сталася помилка в компоненті. Спробуйте перезавантажити сторінку.
                    </div>
                </div>
            </LayoutView>
        </ErrorContent>
    </ErrorBoundary>
</CascadingAuthenticationState>
